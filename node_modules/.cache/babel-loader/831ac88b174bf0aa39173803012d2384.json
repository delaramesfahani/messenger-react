{"ast":null,"code":"var _jsxFileName = \"/Users/delaram/Desktop/messenger-react-class/messenger-react/src/component/messenger/msgList.js\";\nimport React from 'react';\nimport './../../css/chat.css';\nimport Conversation from './../messenger/conversation';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport { createNewConversation } from './../../action/convAction';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass List extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      newConv: '',\n      suggestionUsers: [],\n      token: window.localStorage.getItem('token')\n    };\n  }\n\n  handleClick() {\n    this.props.dispatch(createNewConversation(this.state.newConv));\n    this.setState({\n      newConv: ''\n    });\n  }\n\n  handleSearch(e) {\n    const fdata = new FormData();\n    fdata.append('token', this.state.token);\n    fdata.append('query', e.target.value);\n    fdata.append('size', 4);\n    axios.post('https://api.paywith.click/explore/search/contacts/', fdata).then(response => {\n      console.log('data:', response.data);\n      this.setState({\n        suggestionUsers: response.data.data.users\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    console.log('propssss', this.props);\n    return React.createElement(\"div\", {\n      className: \"list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"searchbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"search\",\n      placeholder: \"Search...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(Fab, {\n      size: \"small\",\n      color: \"secondary\",\n      \"aria-label\": \"add\",\n      onClick: e => this.handleSearch(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(AddIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }))), this.props.conversationList.map((item, index) => React.createElement(Conversation, {\n      key: index,\n      name: item.firstName,\n      lastName: item.lastName,\n      latestMessage: item.latestMessage,\n      unseenMessage: item.unseenMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  conversationList: state.conversationList\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatch: dispatch\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(List);","map":{"version":3,"sources":["/Users/delaram/Desktop/messenger-react-class/messenger-react/src/component/messenger/msgList.js"],"names":["React","Conversation","Fab","AddIcon","createNewConversation","connect","axios","List","Component","constructor","state","newConv","suggestionUsers","token","window","localStorage","getItem","handleClick","props","dispatch","setState","handleSearch","e","fdata","FormData","append","target","value","post","then","response","console","log","data","users","catch","error","render","conversationList","map","item","index","firstName","lastName","latestMessage","unseenMessage","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './../../css/chat.css'\nimport Conversation from './../messenger/conversation'\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport { createNewConversation } from './../../action/convAction'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\n\nclass List extends React.Component {\n  constructor () {\n    super()\n  \n    this.state = {\n      newConv: '',\n      suggestionUsers: [],\n      token: window.localStorage.getItem('token')\n    }\n  }\n\n  handleClick () {\n    this.props.dispatch(createNewConversation(this.state.newConv))\n    this.setState({ newConv: '' })\n  }\n\n  handleSearch (e) {\n    const fdata = new FormData()\n    fdata.append('token', this.state.token)\n    fdata.append('query', e.target.value)\n    fdata.append('size', 4)\n\n    axios.post('https://api.paywith.click/explore/search/contacts/', fdata)\n      .then((response) => {\n        console.log('data:', response.data)\n        this.setState({ suggestionUsers: response.data.data.users })\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }\n\n  render () {\n    console.log('propssss', this.props)\n    return (\n      <div className='list'>\n        <div className='searchbar'>\n          <input type='text' className='search' placeholder='Search...' />\n          <Fab size='small' color='secondary' aria-label='add' onClick={(e) => this.handleSearch(e)} >\n            <AddIcon />\n          </Fab>\n        </div>\n        {this.props.conversationList.map((item, index) => (\n          <Conversation\n            key={index}\n            name={item.firstName}\n            lastName={item.lastName}\n            latestMessage={item.latestMessage}\n            unseenMessage={item.unseenMessage}\n          />\n        )\n        )\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  conversationList: state.conversationList\n})\nconst mapDispatchToProps = (dispatch) => ({\n  dispatch: dispatch\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(List)\n"]},"metadata":{},"sourceType":"module"}