{"ast":null,"code":"var _jsxFileName = \"/Users/delaram/Desktop/messenger-react-class/messenger-react/src/component/messenger/chatBox.js\";\nimport React from 'react';\nimport './../../css/chat.css';\nimport { connect } from 'react-redux';\nimport { editMessage } from './../../action/convAction';\n\nvar editPenUrl = require('./../imgs/editpen.png');\n\nclass Box extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      editMode: false,\n      selectedMsg: -1\n    };\n  }\n\n  editHandler(e, index) {\n    this.props.dispatch(editMessage(e.this.target.value, index));\n    this.setState();\n  }\n\n  render() {\n    console.log('prpssss:', this.props.messageList);\n    return React.createElement(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, this.props.messageList.map((message, index) => {\n      if (message.sender === 1) {\n        if (!(this.state.editMode && this.state.selectedMsg === index)) {\n          return React.createElement(\"div\", {\n            key: index,\n            className: \"sender\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, message.text, \" \"), React.createElement(\"img\", {\n            src: editPenUrl,\n            alt: \"edit\",\n            className: \"editPen\",\n            title: \"edit\",\n            onClick: this.setState({\n              editMode: true,\n              selectedMsg: index\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }));\n        } else {\n          React.createElement(\"input\", {\n            type: \"text\",\n            value: message.text,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          });\n        }\n      } else {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"receiver\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, message.text));\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  messageList: state.messageList\n});\n\nexport default connect(mapStateToProps)(Box);","map":{"version":3,"sources":["/Users/delaram/Desktop/messenger-react-class/messenger-react/src/component/messenger/chatBox.js"],"names":["React","connect","editMessage","editPenUrl","require","Box","Component","constructor","state","editMode","selectedMsg","editHandler","e","index","props","dispatch","this","target","value","setState","render","console","log","messageList","map","message","sender","text","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,sBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,2BAA5B;;AAEA,IAAIC,UAAU,GAAGC,OAAO,CAAC,uBAAD,CAAxB;;AAEA,MAAMC,GAAN,SAAkBL,KAAK,CAACM,SAAxB,CAAiC;AAC7BC,EAAAA,WAAW,GAAG;AACV;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KADD;AAETC,MAAAA,WAAW,EAAE,CAAC;AAFL,KAAb;AAKH;;AAEDC,EAAAA,WAAW,CAAEC,CAAF,EAAIC,KAAJ,EAAW;AAClB,SAAKC,KAAL,CAAWC,QAAX,CAAoBb,WAAW,CAACU,CAAC,CAACI,IAAF,CAAOC,MAAP,CAAcC,KAAf,EAAsBL,KAAtB,CAA/B;AACA,SAAKM,QAAL;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACLC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAKR,KAAL,CAAWS,WAAnC;AACA,WACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI,KAAKT,KAAL,CAAWS,WAAX,CAAuBC,GAAvB,CAA2B,CAACC,OAAD,EAAUZ,KAAV,KAAoB;AAC3C,UAAIY,OAAO,CAACC,MAAR,KAAmB,CAAvB,EAA0B;AACtB,YAAG,EAAE,KAAKlB,KAAL,CAAWC,QAAX,IAAuB,KAAKD,KAAL,CAAWE,WAAX,KAA2BG,KAApD,CAAH,EAA+D;AACnE,iBACI;AAAK,YAAA,GAAG,EAAEA,KAAV;AAAiB,YAAA,SAAS,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAOY,OAAO,CAACE,IAAf,MADJ,EAEI;AACA,YAAA,GAAG,EAAExB,UADL;AAEA,YAAA,GAAG,EAAC,MAFJ;AAGA,YAAA,SAAS,EAAC,SAHV;AAIA,YAAA,KAAK,EAAC,MAJN;AAKA,YAAA,OAAO,EAAE,KAAKgB,QAAL,CAAc;AAACV,cAAAA,QAAQ,EAAE,IAAX;AAAiBC,cAAAA,WAAW,EAAEG;AAA9B,aAAd,CALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CADJ;AAYK,SAbD,MAaO;AACH;AACA,YAAA,IAAI,EAAC,MADL;AAEA,YAAA,KAAK,EAAEY,OAAO,CAACE,IAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKH;AAGJ,OAvBD,MAuBO;AACP,eACI;AAAK,UAAA,GAAG,EAAEd,KAAV;AAAiB,UAAA,SAAS,EAAC,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAOY,OAAO,CAACE,IAAf,CADJ,CADJ;AAKC;AAEJ,KAhCD,CAHJ,CADJ;AAyCH;;AA3D4B;;AA6DjC,MAAMC,eAAe,GAAIpB,KAAD,KAAY;AAClCe,EAAAA,WAAW,EAAEf,KAAK,CAACe;AADe,CAAZ,CAAxB;;AAIA,eAAetB,OAAO,CAAC2B,eAAD,CAAP,CAAyBvB,GAAzB,CAAf","sourcesContent":["import React from 'react'\nimport './../../css/chat.css'\nimport { connect } from 'react-redux'\nimport { editMessage } from './../../action/convAction'\n\nvar editPenUrl = require('./../imgs/editpen.png')\n\nclass Box extends React.Component{\n    constructor() {\n        super()\n\n        this.state = {\n            editMode: false,\n            selectedMsg: -1\n    \n        }\n    }\n    \n    editHandler (e,index) {\n        this.props.dispatch(editMessage(e.this.target.value, index))\n        this.setState()\n    }\n\n    render() {\n        console.log('prpssss:', this.props.messageList)\n        return(\n            <div className=\"box\">\n                \n        {\n                this.props.messageList.map((message, index) => {\n                    if (message.sender === 1) {\n                        if(!(this.state.editMode && this.state.selectedMsg === index)) {\n                    return (\n                        <div key={index} className='sender'>\n                            <span>{message.text} </span>\n                            <img \n                            src={editPenUrl}\n                            alt=\"edit\" \n                            className=\"editPen\" \n                            title=\"edit\" \n                            onClick={this.setState({editMode: true, selectedMsg: index })}\n                            />\n                        </div>\n                    )\n                        } else {\n                            <input\n                            type=\"text\"\n                            value={message.text}\n                            \n                            />\n                        }\n                    \n                    \n                    } else {\n                    return (\n                        <div key={index} className='receiver'>\n                            <span>{message.text}</span>\n                        </div>\n                        )\n                    }\n                \n                })\n        }\n\n            </div>\n        )\n    }\n}\nconst mapStateToProps = (state) => ({\n  messageList: state.messageList\n})\n\nexport default connect(mapStateToProps)(Box)\n"]},"metadata":{},"sourceType":"module"}